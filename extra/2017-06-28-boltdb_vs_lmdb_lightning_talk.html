<!DOCTYPE html>
<html>
  <head>
    <title>Title</title>
    <meta charset="utf-8">
    <style>
      @import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
      @import url(https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
      @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

      body { font-family: 'Droid Serif'; }
      h1, h2, h3 {
        font-family: 'Yanone Kaffeesatz';
        font-weight: normal;
      }
      .remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }
    </style>
  </head>
  <body>
    <textarea id="source">

class: center, middle

# BoltDB vs LMDB

Craig M. Brandenburg

c.m.brandenburg@gmail.com

---

# BoltDB and LMDB similarities

* Both are **local key-value stores**—i.e., server-free, schema-free,
  non-relational, and typically *fast*.

* Both are **memory-mapped**—i.e., small databases reside in memory but
  databases can be bigger than the sum of physical memory and swap space.

* Both store data using a **B+tree** and provide **ACID** and **MVCC**
  semantics.

* Both provide **shared reading** and **exclusive writing**, relying on
  **explicit transactions**.

* BoltDB was originally was a port of LMDB.

---

# Terminology interlude

* BoltDB has a **database** containing **buckets** containing key-value
  **items**.

* LMDB has an **environment** containing **databases** containing key-value
  **items**.

As an analogy:

* SQL has a **database** containing **tables** containing **rows**.

---

# BoltDB advantages

* BoltDB is **pure Go**, which is more convenient for the typical Go programmer.

* BoltDB allows for **nested buckets**, which makes it convenient for dealing
  with hierarchical information.

* BoltDB allows for **larger keys** (16KB vs 512 bytes in LMDB).

* BoltDB has a **very simple API** that is pleasant to use.

---

# LMDB advantages

* LMDB is generally **faster**.

* LMDB provides optimization features, such as **integer keys**.

* LMDB supports **duplicate keys**.

* LMDB allows for multiple readers and one writer **simultaneously**—i.e.,
  readers never get locked out.

* LMDB has bindings for **many languages**: C, Go, Python, Rust, etc.

---

# Project URLs

**BoltDB**

* https://github.com/boltdb/bolt

**LMDB**

* https://github.com/LMDB/lmdb (C)

* https://github.com/bmatsuo/lmdb-go (Go wrapper)

    </textarea>
    <script src="https://remarkjs.com/downloads/remark-latest.min.js">
    </script>
    <script>
      var slideshow = remark.create();
    </script>
  </body>
</html>

